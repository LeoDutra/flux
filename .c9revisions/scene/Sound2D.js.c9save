{"ts":1349199247802,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n * Flux JavaScript Library\n * Copyright (c) 2010 Leonardo Dutra Constancio\n * MIT License (http://jsflux.googlecode.com/svn/trunk/mit-license.txt)\n */\n/*\n Reference: Three.js (mikael emtinger http://gomo.se/)\n */\n\nflux.Sound2D = function (sources, radius, volume, loop)\n{\n    if (this instanceof flux.Sound2D)\n    {\n        this.Node.call(this);\n        if (radius) this.radius = radius;\n        this.sound = new flux.Sound(sources, volume, loop);\n    }\n};\n\n_ = flux.Sound2D.prototype = flux.Node();\n_.radius = 0;\n_.sound = null;\n\n_.calculateVolumeAndPan = function(v2) {\n    \n    var distance = cameraRelativePosition.length();\n    if(this.radius < distance)\n    this.domElement.volume = 0;\n    else\n    this.domElement.volume = this.volume * (1 - distance/this.radius);\n};"]],"start1":0,"start2":0,"length1":0,"length2":777}]],"length":777}
{"contributors":[],"silentsave":false,"ts":1349414940287,"patch":[[{"diffs":[[0,")\n{\n"],[-1,"    if (this instanceof flux.Sound2D)\n    {\n    "],[0,"    "]],"start1":271,"start2":271,"length1":56,"length2":8},{"diffs":[[0,"(this);\n"],[-1,"    "],[0,"    if ("]],"start1":293,"start2":293,"length1":20,"length2":16},{"diffs":[[0,"us;\n    "],[-1,"   "],[-1," "],[0,"this.sou"]],"start1":335,"start2":335,"length1":20,"length2":16},{"diffs":[[0,"p);\n"],[-1,"    }\n"],[0,"};\n\n"]],"start1":391,"start2":391,"length1":14,"length2":8}]],"length":715,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349460476645,"patch":[[{"diffs":[[0,"};\n\n"],[-1,"_ = "],[0,"flux"]],"start1":395,"start2":395,"length1":12,"length2":8},{"diffs":[[0,"otype = "],[1,"extend("],[0,"flux.Nod"]],"start1":416,"start2":416,"length1":16,"length2":23},{"diffs":[[0,"Node"],[-1,"();\n_.radius = 0;\n_."],[1,", {\n    radius: 0,\n    "],[0,"sound"],[-1," ="],[1,":"],[0," null"],[-1,";\n\n_."],[1,",\n    \n    "],[0,"calc"]],"start1":436,"start2":436,"length1":45,"length2":53},{"diffs":[[0,"meAndPan"],[-1," ="],[1,":"],[0," functio"]],"start1":498,"start2":498,"length1":18,"length2":17},{"diffs":[[0,"n(v2) {\n    "],[1," "],[-1,"\n"],[1,"   \n    "],[0,"    var dist"]],"start1":515,"start2":515,"length1":25,"length2":33},{"diffs":[[0,"();\n    "],[1,"   "],[1," "],[0,"if(this."]],"start1":584,"start2":584,"length1":16,"length2":20},{"diffs":[[0,"stance)\n"],[1,"    "],[0,"    this"]],"start1":615,"start2":615,"length1":16,"length2":20},{"diffs":[[0,"me = 0;\n"],[1,"    "],[0,"    else"]],"start1":651,"start2":651,"length1":16,"length2":20},{"diffs":[[0,"   else\n    "],[1," "],[1,"   "],[0,"this.domElem"]],"start1":664,"start2":664,"length1":24,"length2":28},{"diffs":[[0,"adius);\n"],[-1,"}"],[1,"    }\n})"],[0,";"]],"start1":739,"start2":739,"length1":10,"length2":17}]],"length":756,"saved":false}
